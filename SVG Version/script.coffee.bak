$(document).ready ->
	paper = Snap $(window).width(), $(window).height()

	w = $(window).width() / 100
	h = $(window).height() / 100

	rect = (x, y, w1, h1) -> paper.rect x * w, y * h, w1 * w, h1 * h
	polygon = (coords) -> paper.polygon [].concat.apply [], ([coords[i] * w, coords[i + 1] * h] for i in [0..coords.length - 1] by 2)

	# Background
	bg = rect 0, 0, 100, 100
	bg.attr fill: "#22A7F0" # Picton Blue

	# Lake
	lakePoints = [
		-25, 100,
		-5, 60,
		10, 50,
		40, 53,
		45, 43,
		50, 47,
		53, 45,
		60, 42,
		65, 50,
		90, 65,
		105, 70,
		120, 100,
		-25, 100
	]
	lakePoints = [].concat.apply [], ([lakePoints[i] * w, lakePoints[i + 1] * h] for i in [0..lakePoints.length - 1] by 2)
	lake = paper.polygon lakePoints
	lake.attr fill: "#3A539B" # Chambray

	setInterval ->
		clone = lakePoints.slice 0
		#clone[i] += Math.floor(Math.random() * 11 - 5) for i in [1..lakePoints.length - 1] by 2 when lakePoints[i] isnt 100 * h

		pushPoint = Math.floor(Math.random() * clone.length)
		for i in [0..clone.length - 1]
			clone[i] += 5 * Math.pow(-0.5, Math.abs(pushPoint - i))
			console.log 5 * Math.pow(-0.5, Math.abs(pushPoint - i))

		lake.animate {points: clone}, 110, mina.linear
	, 100